<html>
  <head>
    <title>Hello, World! Argon + A-Frame</title>
    <meta name="description" content="Hello, World! Geolocation Argon + A-Frame">
    <script src="../resources/js/aframe.min.js"></script>
    <script src="../resources/js/argon.umd.js"></script>
    <script src="../build.js"></script>
    <script src="../resources/js/CSS3DArgonRenderer.js"></script>
    <script src="../resources/js/CSS3DArgonHUD.js"></script>
    <script src="../resources/js/aframe-look-at-component.js"></script>
	  <link rel="stylesheet" type="text/css" href="../resources/style.css">
  </head>
  <body>
    <script>
      AFRAME.registerComponent('showdistance', {
        tick: function (t) {
          var object3D = this.el.object3D;
          var camera = this.el.sceneEl.camera;
          var cameraPos = camera.getWorldPosition();
          var thisPos = object3D.getWorldPosition();
          var distance = Math.round(thisPos.distanceTo(cameraPos));

          var cssDiv = this.el.getObject3D('div');
          var msg = "Georgia Tech is in Atlanta.<br>This spot is near the center of campus.<br>It is " + distance + " meters away";
          cssDiv.elements[0].innerHTML = msg;
          cssDiv.elements[1].innerHTML = msg;
        }
      });
    </script>
    <div hidden>    
      <div id="mydiv" class="label">Georgia Tech is in Atlanta.<br>This spot is near the center of campus</div>
    </div>
    <ar-scene>
      <a-assets>
        <img id="buzzpin" src="../resources/textures/buzz-pin.png">
      </a-assets>
      <ar-geopose id="GT" lla=" -84.398881 33.778463" userotation="false"> 
         <a-entity fixedsize="0.05">
           <a-plane rotation="0 90 0" width="2.9" height="4" src="#buzzpin" transparent="true"></a-plane>
           <a-entity css-object="div: #mydiv" scale="0.02 0.02 0.02" position="0 4 0" billboard showdistance></a-entity>
        </a-entity>
      </ar-geopose>
      <ar-frame id="me" parent="ar.user" userotation="false">
        <a-entity position="0 -1.5 -10">
          <a-sphere position="0 1.25 -1" radius="1.25" color="#EF2D5E"></a-sphere>
          <a-box position="-1 0.5 1" rotation="0 45 0" width="1" height="1" depth="1"  color="#4CC3D9"></a-box>
          <a-cylinder position="1 0.75 1" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder>
          <a-plane rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
        </a-entity>
      </ar-frame>
    </ar-scene>
  </body>
</html>
